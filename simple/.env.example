# YouTube Subtitle API Configuration
# ===================================

# ==============================================================================
# SECURITY CONFIGURATION (REQUIRED FOR PRODUCTION)
# ==============================================================================
# You MUST configure at least one authentication method for admin endpoints.
# Admin endpoints will DENY ALL ACCESS if neither is configured (fail closed).

# API Key Authentication
# Set this to enable X-API-Key header based authentication
# Generate a strong random key: openssl rand -base64 32
API_KEY=

# JWT Secret (Alternative to API Key)
# Set this to enable Bearer token based authentication
# Generate a strong random key: openssl rand -base64 32
JWT_SECRET=

# API Key Header Name (default: X-API-Key)
# The HTTP header name to check for the API key
API_KEY_HEADER_NAME=X-API-Key

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
# Comma-separated list of allowed origins. Empty list denies all (SECURE DEFAULT).
# IMPORTANT: You MUST configure this for your frontend to work.
#
# Examples:
#   ALLOWED_ORIGINS=https://example.com,https://www.example.com
#   ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
#
# For DEVELOPMENT only, use "*" to allow all origins (DANGEROUS in production):
#   ALLOWED_ORIGINS=*
#
# Default (if not set): Empty list (denies all CORS requests)
ALLOWED_ORIGINS=

# ==============================================================================
# RATE LIMITING
# ==============================================================================
# Requests per minute per IP address
RATE_LIMIT_PER_MINUTE=30

# Burst capacity (additional requests allowed temporarily)
MAX_CONCURRENT=5

# SECURITY: Fail open when Redis is unavailable (DANGEROUS - only for development)
# If false (default), denies requests when Redis is down (SECURE)
# If true, allows requests when Redis is down (DANGEROUS)
RATE_LIMIT_FAIL_OPEN=false

# ==============================================================================
# CACHING
# ==============================================================================
# In-memory cache TTL in seconds
CACHE_TTL_SECONDS=3600

# Maximum number of cached responses
CACHE_MAX_SIZE=500

# ==============================================================================
# EXTRACTION
# ==============================================================================
# YouTube extraction timeout in seconds
EXTRACTION_TIMEOUT=30

# Enable fallback extraction methods
FALLBACK_ENABLED=true

# ==============================================================================
# LOGGING
# ==============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
# Environment: development, staging, production
ENVIRONMENT=development
